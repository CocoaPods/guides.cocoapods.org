<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>CocoaPods Guides - Testing with CocoaPods</title>
<link rel="shortcut icon" href="https://cocoapods.org/favicons/favicon.ico" type="image/x-icon">
<link rel="apple-touch-icon" href="https://cocoapods.org/favicons/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="57x57" href="https://cocoapods.org/favicons/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="https://cocoapods.org/favicons/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="https://cocoapods.org/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="https://cocoapods.org/favicons/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="https://cocoapods.org/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="https://cocoapods.org/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="https://cocoapods.org/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="https://cocoapods.org/favicons/apple-touch-icon-152x152.png">
<meta charset="utf-8">
<meta content="cocoapods objective-c objc swift package manager libraries documentation search pods podspec podfile cocoa apple ios library" name="keywords">
<meta content="IE=edge" http-equiv="X-UA-Compatible">
<meta content="width=device-width, initial-scale=1.0" name="viewport">
<meta content="The Dependency Manager for iOS &amp; Mac projects" name="description">
<meta content="CocoaPods Dev Team" name="author">
<meta content="summary" name="twitter:card">
<meta content="@CocoaPods" name="twitter:site">
<meta content="@CocoaPods" name="twitter:creator">
<meta content="CocoaPods.org" name="twitter:title">
<meta content="The Dependency Manager for iOS &amp; Mac projects." name="twitter:description">
<meta content="https://www.cocoapods.org/" name="twitter:url">
<link href="../stylesheets/app.css" rel="stylesheet" type="text/css">
<script src="../javascripts/application.js" type="text/javascript"></script><meta content="CocoaPods Guides" name="twitter:title">
<meta content="The official documentation site for the CocoaPods dependency manager." name="twitter:description">
<meta content="CocoaPods Guides" property="og:site_name">
<meta content="CocoaPods Guides" property="og:title">
<meta content="https://guides.cocoapods.org" property="og:url">
</head>
<body>
<nav class="navbar navbar-static-top" role="navigation"><section class="container"><div class="navbar-header">
<button class="navbar-toggle" data-target=".navbar-header-collapse" data-toggle="collapse" type="button"><span class="sr-only">Toggle navigation</span><span class="glyphicon glyphicon-plus"></span></button><a class="navbar-brand" href="https://cocoapods.org"></a>
</div>
<div class="collapse navbar-collapse navbar-header-collapse"><ul class="nav navbar-nav navbar-right">
<li><a href="https://cocoapods.org/app">App</a></li>
<li><a href="https://cocoapods.org/about">About</a></li>
<li class="active"><a href="https://guides.cocoapods.org">Guides</a></li>
<li><a href="https://blog.cocoapods.org">Blog</a></li>
</ul></div></section></nav><section class="container"><div class="row"><header class="header content col-md-10 col-md-offset-1 col-lg-10 col-lg-offset-1"><h1>Testing with CocoaPods</h1></header></div></section><div class="guide" id="content-wrapper">
<section class="container"><div class="row">
<article class="content col-md-10 col-md-offset-1 col-lg-10 col-lg-offset-1"><h2 id="test-specifications">
<a class="header-link" href="#test-specifications">&lt;</a>Test Specifications</h2>

<p>As of CocoaPods 1.3.0 pods may now provide test specifications (or test specs for short). Test specifications can be used to describe the test sources for a given pod.</p>

<p>Here's an example <code>CoconutLib.podspec</code>, an imaginary library that defines a test spec:</p>
    </article>
    </div>
    </section>

    <div class="code-break">
    <section class="container">
    <div class="row">
    <article class="content col-md-11 col-md-offset-1"><pre><code class="highlight ruby"><span class="no">Pod</span><span class="o">::</span><span class="no">Spec</span><span class="p">.</span><span class="nf">new</span> <span class="k">do</span> <span class="o">|</span><span class="n">s</span><span class="o">|</span>
  <span class="n">s</span><span class="p">.</span><span class="nf">name</span>         <span class="o">=</span> <span class="s1">'CoconutLib'</span>
  <span class="n">s</span><span class="p">.</span><span class="nf">version</span>      <span class="o">=</span> <span class="s1">'1.0'</span>
  <span class="n">s</span><span class="p">.</span><span class="nf">authors</span>      <span class="o">=</span> <span class="s1">'Coconut Corp'</span><span class="p">,</span> <span class="p">{</span> <span class="s1">'Monkey Boy'</span> <span class="o">=&gt;</span> <span class="s1">'monkey@coconut-corp.local'</span> <span class="p">}</span>
  <span class="n">s</span><span class="p">.</span><span class="nf">homepage</span>     <span class="o">=</span> <span class="s1">'http://coconut-corp.local/coconut-lib.html'</span>
  <span class="n">s</span><span class="p">.</span><span class="nf">summary</span>      <span class="o">=</span> <span class="s1">'Coconuts For the Win.'</span>
  <span class="n">s</span><span class="p">.</span><span class="nf">description</span>  <span class="o">=</span> <span class="s1">'All the Coconuts'</span>
  <span class="n">s</span><span class="p">.</span><span class="nf">source</span>       <span class="o">=</span> <span class="p">{</span> <span class="ss">:git</span> <span class="o">=&gt;</span> <span class="s1">'http://coconut-corp.local/coconut-lib.git'</span><span class="p">,</span> <span class="ss">:tag</span> <span class="o">=&gt;</span> <span class="s1">'v1.0'</span> <span class="p">}</span>
  <span class="n">s</span><span class="p">.</span><span class="nf">license</span>      <span class="o">=</span> <span class="p">{</span>
    <span class="ss">:type</span> <span class="o">=&gt;</span> <span class="s1">'MIT'</span><span class="p">,</span>
    <span class="ss">:file</span> <span class="o">=&gt;</span> <span class="s1">'LICENSE'</span><span class="p">,</span>
    <span class="ss">:text</span> <span class="o">=&gt;</span> <span class="s1">'Permission is hereby granted ...'</span>
  <span class="p">}</span>
  <span class="n">s</span><span class="p">.</span><span class="nf">source_files</span>        <span class="o">=</span> <span class="s1">'Classes/*.{h,m}'</span>

  <span class="n">s</span><span class="p">.</span><span class="nf">test_spec</span> <span class="s1">'Tests'</span> <span class="k">do</span> <span class="o">|</span><span class="n">test_spec</span><span class="o">|</span>
    <span class="n">test_spec</span><span class="p">.</span><span class="nf">source_files</span> <span class="o">=</span> <span class="s1">'Tests/*.{h,m}'</span>
    <span class="n">test_spec</span><span class="p">.</span><span class="nf">dependency</span> <span class="s1">'OCMock'</span> <span class="c1"># This dependency will only be linked with your tests.</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre>    </article>
    </div>
    </section>
    </div>

    <section class="container ">
    <div class="row">
    <article class="content col-md-10 col-md-offset-1">


<p>Test specs are treated just like subspecs in terms of consuming them but they are different in how they are configured in the generated <code>Pods.xcodeproj</code>. Test spec sources and dependencies will not be included in the <code>CoconutLib</code> sources. You may choose to have multiple test specs in a podspec if you'd like to describe different parts of your pod with different test sources and dependencies.</p>

<p>In your <code>Podfile</code> you can bring the test specification as such:</p>
    </article>
    </div>
    </section>

    <div class="code-break">
    <section class="container">
    <div class="row">
    <article class="content col-md-11 col-md-offset-1"><pre><code class="highlight ruby"><span class="n">target</span> <span class="s1">'MyApp'</span> <span class="k">do</span>
  <span class="n">use_frameworks!</span>
  <span class="n">pod</span> <span class="s1">'CoconutLib'</span><span class="p">,</span> <span class="s1">'~&gt; 1.0'</span><span class="p">,</span> <span class="ss">:testspecs</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">'Tests'</span><span class="p">]</span>
<span class="k">end</span>
</code></pre>    </article>
    </div>
    </section>
    </div>

    <section class="container ">
    <div class="row">
    <article class="content col-md-10 col-md-offset-1">


<p>When you <code>pod install</code> this will automatically create a test target within the <code>Pods.xcodeproj</code> for the <code>CoconutLib</code> pod. You may choose to select that scheme and build and run your tests!</p>

<h2 id="linting">
<a class="header-link" href="#linting">&lt;</a>Linting</h2>

<p><code>pod lib lint</code> and <code>pod spec lint</code> now have support for building and running your tests automatically when you lint your podspec. For example, linting the <code>CoconutLib.podspec</code> will automatically setup and run your tests provided by the given test specs. If you want to skip this step you may use the <code>--skip-tests</code> flag.</p>
    </article>
    </div>
    </section>

    <div class="code-break">
    <section class="container">
    <div class="row">
    <article class="content col-md-11 col-md-offset-1"><pre><code class="highlight ruby"><span class="n">pod</span> <span class="n">lib</span> <span class="n">lint</span> <span class="no">CoconutLib</span><span class="p">.</span><span class="nf">podspec</span> <span class="o">--</span><span class="n">skip</span><span class="o">-</span><span class="n">tests</span>
</code></pre>    </article>
    </div>
    </section>
    </div>

    <section class="container ">
    <div class="row">
    <article class="content col-md-10 col-md-offset-1">


<h2 id="app-hosts">
<a class="header-link" href="#app-hosts">&lt;</a>App Hosts</h2>

<p>With CocoaPods 1.4.0, support for app hosts was added to test specs. If your tests require an app host in order to execute properly then you can designate this in your podspec as such:</p>
    </article>
    </div>
    </section>

    <div class="code-break">
    <section class="container">
    <div class="row">
    <article class="content col-md-11 col-md-offset-1"><pre><code class="highlight ruby">  <span class="n">s</span><span class="p">.</span><span class="nf">test_spec</span> <span class="s1">'Tests'</span> <span class="k">do</span> <span class="o">|</span><span class="n">test_spec</span><span class="o">|</span>
    <span class="n">test_spec</span><span class="p">.</span><span class="nf">requires_app_host</span> <span class="o">=</span> <span class="kp">true</span>
    <span class="n">test_spec</span><span class="p">.</span><span class="nf">source_files</span> <span class="o">=</span> <span class="s1">'Tests/*.{h,m}'</span>
  <span class="k">end</span>
</code></pre>    </article>
    </div>
    </section>
    </div>

    <section class="container ">
    <div class="row">
    <article class="content col-md-10 col-md-offset-1">


<p>Note that CocoaPods will only generate a single app host that can be used by multiple test specs.</p>
</article>
</div></section>
</div>
<div class="info-row"><section class="container"><div class="row"><article class="content col-md-10 col-md-offset-1 col-lg-10 col-lg-offset-1"><a data-container="body" data-content="CocoaPods is an open source project. Help us improve these guides by sending a pull request. ❤" data-original-title="" data-placement="top" data-toggle="popover" data-trigger="hover" href="https://github.com/CocoaPods/guides.cocoapods.org/blob/master/source/using/test-specs.html.md" id="pull-request" title=""></a><ul class="breadcrumb">
<li>
<a href="../index.html">Home</a><span class="divider"></span>
</li>
<li>
<a href="index.html">Using CocoaPods</a><span class="divider"></span>
</li>
<li class="active">Testing with CocoaPods</li>
</ul></article></div></section></div>
<section class="site_navigation container"><div class="row">
<div class="col-lg-3 col-sm-3 col-xs-6 footer-index">
<h3><a href="index.html">Using CocoaPods</a></h3>
<ul>
<li><a href="getting-started.html">Getting Started</a></li>
<li><a href="pod-install-vs-update.html">pod install vs. pod update</a></li>
<li><a href="using-cocoapods.html">Using CocoaPods</a></li>
<li><a href="the-podfile.html">The Podfile</a></li>
<li><a href="troubleshooting.html">Troubleshooting</a></li>
<li><a href="faq.html">F.A.Q</a></li>
<li><a href="test-specs.html">Testing with CocoaPods</a></li>
<li><a href="a-gemfile.html">Using a Gemfile</a></li>
</ul>
</div>
<div class="col-lg-3 col-sm-3 col-xs-6 footer-index">
<h3><a href="../making/index.html">Build with CocoaPods</a></h3>
<ul>
<li><a href="../making/making-a-cocoapod.html">Making a CocoaPod</a></li>
<li><a href="../making/using-pod-lib-create.html">Using Pod Lib Create</a></li>
<li><a href="../making/getting-setup-with-trunk.html">Getting setup with Trunk</a></li>
<li><a href="../making/private-cocoapods.html">Private Pods</a></li>
<li><a href="../making/specs-and-specs-repo.html">Specs and the Specs Repo</a></li>
</ul>
</div>
<div class="clearfix visible-xs"></div>
<div class="col-lg-3 col-sm-3 col-xs-6 footer-index">
<h3><a href="../plugins/index.html">Plugins</a></h3>
<ul>
<li><a href="../plugins/setting-up-plugins.html">How to use CocoaPods plugins</a></li>
<li><a href="../plugins/environment-vars.html">Keeping Secrets</a></li>
<li><a href="../plugins/optimising-ci-times.html">Optimise CI</a></li>
<li><a href="../plugins/pre-compiling-dependencies.html">Pre-compiling dependencies</a></li>
<li><a href="../plugins/using-pods-for-closed-source-libs.html">Packaging Closed Source SDKs</a></li>
</ul>
</div>
<div class="col-lg-3 col-sm-3 col-xs-6 footer-index">
<h3><a href="../contributing/index.html">Contributing</a></h3>
<ul>
<li><a href="../contributing/contribute-to-cocoapods.html">How to Contribute</a></li>
<li><a href="../contributing/components.html">Core Components</a></li>
<li><a href="../contributing/dev-environment.html">Setting up for Development</a></li>
<li><a href="../contributing/release-process.html">Release Process</a></li>
<li><a href="../contributing/tickets-handling.html">Ticket handling</a></li>
</ul>
</div>
<div class="clearfix visible-xs"></div>
<div class="clearfix"></div>
<div class="col-xs-12 footer-index">
<h3> <a href="/reference.html">Reference</a>
</h3>
<ul>
<li class="col-lg-3 col-sm-3 col-xs-6"><a href="/syntax/podfile.html">Podfile Syntax</a></li>
<li class="col-lg-3 col-sm-3 col-xs-6"><a href="/syntax/podspec.html">Podspec Syntax</a></li>
<li class="col-lg-3 col-sm-3 col-xs-6"><a href="/terminal/commands.html">Command-line Reference</a></li>
</ul>
</div>
</div></section><footer class="page-footer"><section class="container"><div class="row"><article class="col-md-8 col-lg-8 col-sm-12 col-md-offset-2 col-lg-offset-2 col-xs-12"><h4>CocoaPods is a project from</h4>
<p class="contributors"> <a href="https://twitter.com/dnkoutso">Dimitris Koutsogiorgas</a>, <a href="http://dantoml.com">Danielle Tomlinson</a>, <a href="http://orta.io">Orta Therox</a>, <a href="https://github.com/paulb777">Paul Beusterien</a>, <a href="http://segiddins.me">Samuel Giddins</a>, and <a href="https://cocoapods.org/about#team">The CocoaPods Dev Team</a> with contributions from <a href="https://github.com/CocoaPods/Specs/graphs/contributors">many, many others</a>.</p>
<h4>Lovingly sponsored by</h4>
<p class="sponsors"><a href="http://artsy.net">Artsy</a>, <a href="http://www.usebutton.com">Button</a>, <a href="http://www.capitalone.io">Capital One</a>, <a href="https://circleci.com">CircleCI</a>, <a href="http://discontinuity.eu">Discontinuity</a>, <a href="http://www.fngtps.com">Fingertips</a>, <a href="https://developers.google.com">Google</a>, <a href="https://www.heroku.com">Heroku</a>, <a href="https://realm.io">Realm</a>, <a href="http://www.rubymotion.com">RubyMotion</a>, <a href="https://www.sauspiel.de">Sauspiel</a>, <a href="https://www.slack.com">Slack</a>, <a href="https://www.soundcloud.com">SoundCloud</a>, <a href="https://www.stripe.com">Stripe</a>, <a href="https://www.squareup.com">Square</a>, and  <a href="http://www.technologyastronauts.ch">Technology Astronauts</a>.</p></article></div></section></footer><footer class="footer-links"><section class="container"><div class="row"><article class="col-md-8 col-lg-8 col-sm-12 col-md-offset-2 col-lg-offset-2 col-xs-12"><a class="cocoapods-small-logo" href="https://cocoapods.org"></a><ul>
<li class="col-md-3 col-sm-3 col-xs-6"><a href="https://guides.cocoapods.org/using/troubleshooting.html">Support</a></li>
<li class="col-md-3 col-sm-3 col-xs-6"><a href="https://github.com/CocoaPods/CocoaPods">GitHub Repo</a></li>
<li class="col-md-3 col-sm-3 col-xs-6"><a href="https://status.cocoapods.org">Web Properties Status</a></li>
<li class="col-md-3 col-sm-3 col-xs-6"><a href="https://twitter.com/CocoaPods">@CocoaPods</a></li>
<li class="col-md-3 col-sm-3 col-xs-6"><a href="http://groups.google.com/group/cocoapods">Mailing List</a></li>
<li class="col-md-3 col-sm-3 col-xs-6"><a href="https://cocoapods.org/about"><span class="visible-lg-span">CocoaPods</span> Dev Team</a></li>
<li class="col-md-3 col-sm-3 col-xs-6"><a href="https://guides.cocoapods.org/syntax/podfile.html">Podfile Doc<span class="hidden-lg-span">s</span><span class="visible-lg-span">umentation</span></a></li>
<li class="col-md-3 col-sm-3 col-xs-6"><a href="https://cocoapods.org/legal">Legal / Conduct</a></li>
</ul></article></div></section></footer>
</body>
<script type="text/javascript">(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-29866548-4', 'cocoapods.org');
ga('send', 'pageview');</script>
</html>
